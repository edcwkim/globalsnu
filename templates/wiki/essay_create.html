{% extends 'base.html' %}
{% load static compress widget_tweaks %}

{% block content %}
<div class="essay-form-wrapper mainland">
  <div class="container">
    <h1>{{ page.title }} – 수기 작성하기</h1>
    <form action="" method="post" class="essay-form">{% csrf_token %}
      <div class="form-group{% if form.title.errors %} has-error{% endif %}">
        {% render_field form.title class+="form-control" placeholder="OOOO년 O학기/OO학과" %}
        {{ form.title.errors }}
      </div>
      <div class="form-group{% if form.content.errors %} has-error{% endif %}">
        {% render_field form.content class+="form-control" placeholder="자유롭게 작성해 주세요!" %}
        {{ form.content.errors }}
      </div>
      <div class="hidden">
        {{ form.page_pk }}
      </div>
      <button type="submit" class="btn btn-default btn-block">등록하기</button>
    </form>
  </div>
</div>
{% endblock %}

{% block extra_css %}
{% compress css %}
<link rel="stylesheet" href="{% static 'css/trumbowyg.css' %}">
{% endcompress %}
{% endblock %}

{% block extra_js %}
{% compress js %}
<script src="{% static 'js/trumbowyg.js' %}"></script>
<script src="{% static 'js/trumbowyg.ko.js' %}"></script>
<script>
$.trumbowyg.svgPath = "{% static 'img/trumbowyg.svg' %}";
$('textarea').trumbowyg({
  lang: 'ko',
  autogrow: true,
  btns: [
    ['formatting'],
    'btnGrp-semantic',
    'btnGrp-justify',
    'btnGrp-lists',
    ['link'],
    ['removeformat'],
    ['fullscreen']
  ]
});
</script>
{% endcompress %}
{% endblock %}
